<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROI2&é”€å”®è´¹ç”¨ç‡æ•æ„Ÿåº¦åˆ†æ</title>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Microsoft YaHei", "SimHei", sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            font-size: 24px;
        }

        #chart {
            width: 100%;
            height: 600px;
            margin-bottom: 20px;
        }

        .info-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 248, 220, 0.95);
            border: 2px solid #d4a574;
            border-radius: 8px;
            padding: 15px;
            min-width: 280px;
            font-size: 12px;
            line-height: 1.6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 1000;
        }

        .info-panel h3 {
            margin: 0 0 10px 0;
            font-size: 14px;
            color: #333;
            border-bottom: 1px solid #d4a574;
            padding-bottom: 5px;
        }

        .info-panel .value {
            font-weight: bold;
            color: #1f77b4;
        }

        .info-panel .separator {
            margin: 8px 0;
            border-top: 1px dashed #d4a574;
        }

        .info-panel .sensitivity {
            margin-top: 8px;
            font-size: 11px;
        }

        .info-panel .profit-impact {
            margin-top: 8px;
            font-size: 11px;
        }

        .info-panel .sensitivity-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }

        .chart-container {
            position: relative;
        }

        .instructions {
            margin-top: 20px;
            padding: 15px;
            background: #f0f8ff;
            border-left: 4px solid #1f77b4;
            border-radius: 4px;
            font-size: 14px;
            line-height: 1.8;
        }

        .instructions h3 {
            margin-bottom: 10px;
            color: #1f77b4;
        }

        .logic-explanation {
            margin-top: 20px;
            padding: 20px;
            background: #fff9e6;
            border-left: 4px solid #ff9800;
            border-radius: 4px;
            font-size: 14px;
            line-height: 2;
        }

        .logic-explanation h3 {
            margin-bottom: 15px;
            color: #ff9800;
            font-size: 16px;
        }

        .logic-explanation .formula {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            text-align: center;
            border: 1px solid #ddd;
        }

        .logic-explanation .formula strong {
            color: #1f77b4;
            font-size: 18px;
        }

        .logic-explanation ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        .logic-explanation li {
            margin-bottom: 8px;
        }

        .logic-explanation .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }

        .strategy-guide {
            margin-top: 20px;
            padding: 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .strategy-guide h3 {
            margin-bottom: 20px;
            color: white;
            font-size: 20px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .strategy-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
            color: #333;
        }

        .strategy-section:last-child {
            margin-bottom: 0;
        }

        .strategy-section h4 {
            margin-bottom: 15px;
            color: #667eea;
            font-size: 18px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }

        .strategy-section ul {
            margin-left: 20px;
            line-height: 2;
        }

        .strategy-section li {
            margin-bottom: 10px;
        }

        .roi-range {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 8px;
        }

        .strategy-section .highlight-strategy {
            background: #fff3cd;
            padding: 3px 8px;
            border-radius: 3px;
            font-weight: bold;
            color: #856404;
        }

        .marginal-benefit {
            background: #e8f5e9;
            padding: 15px;
            border-left: 4px solid #4caf50;
            border-radius: 4px;
            margin: 15px 0;
        }

        .marginal-benefit h5 {
            margin-bottom: 10px;
            color: #2e7d32;
            font-size: 16px;
        }

        .priority-tag {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            margin: 5px 0;
        }

        .priority-efficiency {
            background: #ff9800;
            color: white;
        }

        .priority-scale {
            background: #2196f3;
            color: white;
        }

        .calculator {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
        }

        .calculator h3 {
            margin-bottom: 15px;
            color: #495057;
            font-size: 18px;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .input-group label {
            min-width: 120px;
            font-weight: bold;
            color: #495057;
        }

        .input-group input {
            flex: 1;
            min-width: 150px;
            padding: 8px 12px;
            border: 2px solid #ced4da;
            border-radius: 4px;
            font-size: 14px;
        }

        .input-group input:focus {
            outline: none;
            border-color: #1f77b4;
            box-shadow: 0 0 0 3px rgba(31, 119, 180, 0.1);
        }

        .input-group .unit {
            color: #6c757d;
            font-size: 14px;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #1f77b4;
            color: white;
        }

        .btn-primary:hover {
            background: #1565a0;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .result-group {
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #1f77b4;
        }

        .result-group h4 {
            margin-bottom: 10px;
            color: #1f77b4;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: bold;
            color: #495057;
        }

        .result-value {
            color: #1f77b4;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ROI2&é”€å”®è´¹ç”¨ç‡æ•æ„Ÿåº¦åˆ†æ</h1>
        <div class="chart-container">
            <div id="chart"></div>
            <div class="info-panel" id="infoPanel">
                <h3>å½“å‰æ•°æ®</h3>
                <div>ROI2: <span class="value" id="roi2Value">1.000</span></div>
                <div>é”€å”®è´¹ç”¨ç‡: <span class="value" id="expenseRate">100.00%</span></div>
                <div class="separator"></div>
                <div class="sensitivity">
                    <div class="sensitivity-title">æ•æ„Ÿåº¦åˆ†æ:</div>
                    <div id="sensitivityInfo"></div>
                </div>
                <div class="separator"></div>
                <div class="profit-impact">
                    <div class="sensitivity-title">åˆ©æ¶¦å€¼å½±å“ (1000ä¸‡æ”¶å…¥):</div>
                    <div id="profitImpactInfo"></div>
                </div>
            </div>
        </div>
        <div class="instructions">
            <h3>ä½¿ç”¨è¯´æ˜</h3>
            <ul>
                <li><strong>æ‹–åŠ¨çº¢ç‚¹</strong>ï¼šç‚¹å‡»å¹¶æ‹–åŠ¨çº¢è‰²åœ†ç‚¹ï¼Œå¯ä»¥æ²¿æ›²çº¿ç§»åŠ¨</li>
                <li><strong>ç‚¹å‡»æ›²çº¿</strong>ï¼šç‚¹å‡»æ›²çº¿ä¸Šçš„ä»»æ„ä½ç½®ï¼Œçº¢ç‚¹ä¼šè‡ªåŠ¨ç§»åŠ¨åˆ°è¯¥ä½ç½®</li>
                <li><strong>æŸ¥çœ‹ä¿¡æ¯</strong>ï¼šå³ä¸Šè§’å®æ—¶æ˜¾ç¤ºå½“å‰ROI2å€¼ã€é”€å”®è´¹ç”¨ç‡å’Œæ•æ„Ÿåº¦åˆ†æ</li>
            </ul>
        </div>
        <div class="calculator">
            <h3>ğŸ”¢ æ•°å€¼è®¡ç®—å™¨</h3>
            <div class="input-group">
                <label>ROI2:</label>
                <input type="number" id="inputROI2" step="0.01" min="0.1" max="5.0" placeholder="è¾“å…¥ROI2å€¼">
                <span class="unit">(èŒƒå›´: 0.1 - 5.0)</span>
            </div>
            <div class="input-group">
                <label>é”€å”®è´¹ç”¨ç‡:</label>
                <input type="number" id="inputExpenseRate" step="0.01" min="0.2" max="10" placeholder="è¾“å…¥é”€å”®è´¹ç”¨ç‡(%)">
                <span class="unit">%(èŒƒå›´: 20% - 1000%)</span>
            </div>
            <div class="button-group">
                <button class="btn btn-primary" onclick="calculateFromROI2()">æ ¹æ®ROI2è®¡ç®—</button>
                <button class="btn btn-primary" onclick="calculateFromExpenseRate()">æ ¹æ®é”€å”®è´¹ç”¨ç‡è®¡ç®—</button>
                <button class="btn btn-secondary" onclick="resetCalculator()">é‡ç½®</button>
            </div>
            <div class="result-group" id="resultGroup" style="display: none;">
                <h4>è®¡ç®—ç»“æœ</h4>
                <div class="result-item">
                    <span class="result-label">ROI2:</span>
                    <span class="result-value" id="resultROI2">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">é”€å”®è´¹ç”¨ç‡:</span>
                    <span class="result-value" id="resultExpenseRate">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">ROI2å˜åŠ¨ (â†“0.1):</span>
                    <span class="result-value" id="resultROI2ChangeDown">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">ROI2å˜åŠ¨ (â†‘0.1):</span>
                    <span class="result-value" id="resultROI2ChangeUp">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">é”€å”®è´¹ç”¨ç‡å˜åŠ¨ (â†“0.1):</span>
                    <span class="result-value" id="resultExpenseRateChangeDown">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">é”€å”®è´¹ç”¨ç‡å˜åŠ¨ (â†‘0.1):</span>
                    <span class="result-value" id="resultExpenseRateChangeUp">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">åˆ©æ¶¦ç‡å˜åŠ¨ (â†“0.1):</span>
                    <span class="result-value" id="resultProfitRateChangeDown">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">åˆ©æ¶¦ç‡å˜åŠ¨ (â†‘0.1):</span>
                    <span class="result-value" id="resultProfitRateChangeUp">-</span>
                </div>
            </div>
        </div>
        <div class="logic-explanation">
            <h3>ğŸ“Š ROI2çš„è®¡ç®—å…¬å¼</h3>
            <div class="formula">
                <strong>ROI = GMV Ã· å¸‚åœºæŠ•æ”¾æˆæœ¬</strong>
            </div>
            <div class="formula" style="margin-top: 10px;">
                <strong>ROI1 = GMV Ã· (å¸‚åœºæŠ•æ”¾æˆæœ¬ + å¸‚åœºäººåŠ›æˆæœ¬)</strong>
            </div>
            <div class="formula" style="margin-top: 10px;">
                <strong>ROI2 = GMV Ã· (å¸‚åœºæŠ•æ”¾æˆæœ¬ + å¸‚åœºäººåŠ›æˆæœ¬ + é¡¾é—®äººåŠ›æˆæœ¬)</strong>
            </div>
            <p><strong>å…¬å¼è¯´æ˜ï¼š</strong></p>
            <ul>
                <li><span class="highlight">GMV</span>ï¼ˆGross Merchandise Volumeï¼‰ï¼šæ€»äº¤æ˜“é¢ï¼Œå³å•†å“äº¤æ˜“æ€»é¢</li>
                <li><span class="highlight">å¸‚åœºæŠ•æ”¾æˆæœ¬</span>ï¼šç”¨äºå¸‚åœºæ¨å¹¿çš„ç›´æ¥æŠ•æ”¾è´¹ç”¨</li>
                <li><span class="highlight">å¸‚åœºäººåŠ›æˆæœ¬</span>ï¼šå¸‚åœºéƒ¨é—¨çš„äººåŠ›æˆæœ¬</li>
                <li><span class="highlight">é¡¾é—®äººåŠ›æˆæœ¬</span>ï¼šé¡¾é—®å›¢é˜Ÿçš„äººåŠ›æˆæœ¬</li>
                <li><span class="highlight">ROI1</span>ï¼šè€ƒè™‘å¸‚åœºæŠ•æ”¾æˆæœ¬ï¼Œæˆ–å¸‚åœºæŠ•æ”¾æˆæœ¬+å¸‚åœºäººåŠ›æˆæœ¬çš„å›æŠ¥ç‡</li>
                <li><span class="highlight">ROI2</span>ï¼šç»¼åˆè€ƒè™‘å¸‚åœºæŠ•æ”¾æˆæœ¬ã€å¸‚åœºäººåŠ›æˆæœ¬å’Œé¡¾é—®äººåŠ›æˆæœ¬çš„ç»¼åˆå›æŠ¥ç‡ï¼Œæ›´èƒ½åæ˜ çœŸå®çš„æŠ•å…¥äº§å‡ºæ¯”</li>
            </ul>
            <h3 style="margin-top: 30px;">ğŸ“Š ROI2ä¸é”€å”®è´¹ç”¨ç‡çš„æ•°å­¦å…³ç³»</h3>
            <div class="formula">
                <strong>é”€å”®è´¹ç”¨ç‡ = 1 Ã· ROI2</strong>
            </div>
            <p><strong>å…³ç³»è¯´æ˜ï¼š</strong></p>
            <ul>
                <li><span class="highlight">ROI2</span>ï¼ˆæŠ•èµ„å›æŠ¥ç‡ï¼‰è¡¨ç¤ºæ¯æŠ•å…¥1å…ƒèƒ½è·å¾—å¤šå°‘å…ƒçš„å›æŠ¥ã€‚ä¾‹å¦‚ï¼ŒROI2 = 2 è¡¨ç¤ºæŠ•å…¥1å…ƒå¯è·å¾—2å…ƒå›æŠ¥ã€‚</li>
                <li><span class="highlight">é”€å”®è´¹ç”¨ç‡</span>è¡¨ç¤ºé”€å”®è´¹ç”¨å æ”¶å…¥çš„æ¯”ä¾‹ã€‚ä¾‹å¦‚ï¼Œé”€å”®è´¹ç”¨ç‡ = 50% è¡¨ç¤ºæ¯100å…ƒæ”¶å…¥ä¸­æœ‰50å…ƒç”¨äºé”€å”®è´¹ç”¨ã€‚</li>
                <li>ä¸¤è€…å‘ˆ<span class="highlight">åæ¯”ä¾‹å…³ç³»</span>ï¼šROI2è¶Šé«˜ï¼Œé”€å”®è´¹ç”¨ç‡è¶Šä½ï¼›ROI2è¶Šä½ï¼Œé”€å”®è´¹ç”¨ç‡è¶Šé«˜ã€‚</li>
            </ul>
            <p><strong>å®é™…æ„ä¹‰ï¼š</strong></p>
            <ul>
                <li>å½“ <span class="highlight">ROI2 = 1</span> æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ = 100%ï¼Œè¡¨ç¤ºæ‰€æœ‰æ”¶å…¥éƒ½ç”¨äºé”€å”®è´¹ç”¨ï¼Œå‰©ä½™åˆ©æ¶¦ç©ºé—´ä¸º0ã€‚</li>
                <li>å½“ <span class="highlight">ROI2 = 2</span> æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ = 50%ï¼Œè¡¨ç¤ºé”€å”®è´¹ç”¨å æ”¶å…¥çš„ä¸€åŠï¼Œå‰©ä½™åˆ©æ¶¦ç©ºé—´ä¸º50%ã€‚</li>
                <li>å½“ <span class="highlight">ROI2 = 5</span> æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ = 20%ï¼Œè¡¨ç¤ºé”€å”®è´¹ç”¨ä»…å æ”¶å…¥çš„20%ï¼Œå‰©ä½™åˆ©æ¶¦ç©ºé—´ä¸º80%ã€‚</li>
            </ul>
            <p><strong>æ•æ„Ÿåº¦åˆ†æï¼š</strong></p>
            <ul>
                <li>ç”±äºå‡½æ•° <span class="highlight">f(x) = 1/x</span> æ˜¯éçº¿æ€§çš„ï¼ŒROI2çš„å˜åŒ–å¯¹é”€å”®è´¹ç”¨ç‡çš„å½±å“ä¸æ˜¯å‡åŒ€çš„ã€‚</li>
                <li>å½“ROI2è¾ƒå°æ—¶ï¼ˆå¦‚1-2ï¼‰ï¼ŒROI2çš„å¾®å°å˜åŒ–ä¼šå¯¼è‡´é”€å”®è´¹ç”¨ç‡çš„è¾ƒå¤§å˜åŒ–ã€‚</li>
                <li>å½“ROI2è¾ƒå¤§æ—¶ï¼ˆå¦‚4-5ï¼‰ï¼ŒROI2çš„ç›¸åŒå˜åŒ–å¯¹é”€å”®è´¹ç”¨ç‡çš„å½±å“ç›¸å¯¹è¾ƒå°ã€‚</li>
                <li>å› æ­¤ï¼Œåœ¨ROI2è¾ƒä½æ—¶ï¼Œæå‡ROI2å¯¹é™ä½é”€å”®è´¹ç”¨ç‡çš„æ•ˆæœæ›´æ˜æ˜¾ã€‚</li>
            </ul>
            <p><strong>ROI2å˜åŒ–å¯¹åˆ©æ¶¦å€¼çš„å½±å“ï¼ˆä»¥1000ä¸‡æ”¶å…¥ä¸ºä¾‹ï¼‰ï¼š</strong></p>
            <ul>
                <li><strong>ROI2ä¸‹é™0.1çš„å½±å“ï¼š</strong>
                    <ul>
                        <li>å½“ROI2ä»1.5é™è‡³1.4æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ä»66.7%å‡è‡³71.4%ï¼Œåˆ©æ¶¦å‡å°‘47ä¸‡</li>
                        <li>å½“ROI2ä»2.0é™è‡³1.9æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ä»50.0%å‡è‡³52.6%ï¼Œåˆ©æ¶¦å‡å°‘26ä¸‡</li>
                        <li>å½“ROI2ä»3.0é™è‡³2.9æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ä»33.3%å‡è‡³34.5%ï¼Œåˆ©æ¶¦å‡å°‘12ä¸‡</li>
                        <li>å½“ROI2ä»5.0é™è‡³4.9æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ä»20.0%å‡è‡³20.4%ï¼Œåˆ©æ¶¦å‡å°‘4ä¸‡</li>
                    </ul>
                </li>
                <li><strong>ROI2ä¸Šå‡0.1çš„å½±å“ï¼š</strong>
                    <ul>
                        <li>å½“ROI2ä»1.5å‡è‡³1.6æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ä»66.7%é™è‡³62.5%ï¼Œåˆ©æ¶¦å¢åŠ 42ä¸‡</li>
                        <li>å½“ROI2ä»2.0å‡è‡³2.1æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ä»50.0%é™è‡³47.6%ï¼Œåˆ©æ¶¦å¢åŠ 24ä¸‡</li>
                        <li>å½“ROI2ä»3.0å‡è‡³3.1æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ä»33.3%é™è‡³32.3%ï¼Œåˆ©æ¶¦å¢åŠ 10ä¸‡</li>
                        <li>å½“ROI2ä»5.0å‡è‡³5.1æ—¶ï¼Œé”€å”®è´¹ç”¨ç‡ä»20.0%é™è‡³19.6%ï¼Œåˆ©æ¶¦å¢åŠ 4ä¸‡</li>
                    </ul>
                </li>
                <li><strong>å…³é”®æ´å¯Ÿï¼š</strong>ROI2è¶Šä½ï¼Œå…¶å˜åŒ–å¯¹åˆ©æ¶¦çš„å½±å“è¶Šå¤§ã€‚åœ¨ROI2=1.5æ—¶ï¼Œæ¯0.1çš„ROI2å˜åŒ–å¯å½±å“40-50ä¸‡åˆ©æ¶¦ï¼›è€Œåœ¨ROI2=5.0æ—¶ï¼Œä»…å½±å“4ä¸‡åˆ©æ¶¦ã€‚è¿™è¯´æ˜äº†åœ¨ä½ROI2åŒºé—´ä¼˜åŒ–æ•ˆç‡çš„ç´§è¿«æ€§å’Œé‡è¦æ€§ã€‚</li>
            </ul>
        </div>
        <div class="strategy-guide">
            <h3>ğŸ’¡ ä¸ºä»€ä¹ˆè¦é‡è§†ROI2çš„ç»†åˆ†å˜åŒ–ï¼Ÿ</h3>
            
            <div class="strategy-section">
                <h4>ğŸ“ˆ ROI2å˜åŒ–çš„è´¢åŠ¡å«ä¹‰</h4>
                <ul>
                    <li><strong>éçº¿æ€§å½±å“</strong>ï¼šç”±äºROI2ä¸é”€å”®è´¹ç”¨ç‡å‘ˆåæ¯”ä¾‹å…³ç³»ï¼ˆf(x) = 1/xï¼‰ï¼ŒROI2çš„å¾®å°å˜åŒ–ä¼šå¯¼è‡´é”€å”®è´¹ç”¨ç‡çš„æ˜¾è‘—æ³¢åŠ¨ï¼Œç›´æ¥å½±å“ä¼ä¸šç›ˆåˆ©èƒ½åŠ›ã€‚</li>
                    <li><strong>æˆæœ¬æ•æ„Ÿæ€§</strong>ï¼šåœ¨ROI2è¾ƒä½åŒºé—´ï¼ˆ1-2ï¼‰ï¼Œæ¯0.1çš„ROI2å˜åŒ–ä¼šå¯¼è‡´é”€å”®è´¹ç”¨ç‡å˜åŒ–4-5ä¸ªç™¾åˆ†ç‚¹ï¼Œè¿™æ„å‘³ç€é”€å”®è´¹ç”¨çš„å¾®å°æ³¢åŠ¨ä¼šæ˜¾è‘—å½±å“åˆ©æ¶¦ç©ºé—´ã€‚</li>
                    <li><strong>ç°é‡‘æµå½±å“</strong>ï¼šé”€å”®è´¹ç”¨ç‡çš„ä¸Šå‡ç›´æ¥å ç”¨æ›´å¤šç°é‡‘æµï¼Œå½±å“ä¼ä¸šçš„èµ„é‡‘å‘¨è½¬å’ŒæŠ•èµ„èƒ½åŠ›ã€‚</li>
                    <li><strong>è§„æ¨¡æ•ˆåº”</strong>ï¼šROI2çš„æå‡ä¸ä»…èƒ½é™ä½é”€å”®è´¹ç”¨ç‡ï¼Œè¿˜èƒ½é‡Šæ”¾æ›´å¤šèµ„é‡‘ç”¨äºä¸šåŠ¡æ‰©å¼ ï¼Œå½¢æˆæ­£å‘å¾ªç¯ã€‚</li>
                    <li><strong>ç«äº‰ä¼˜åŠ¿</strong>ï¼šæ›´é«˜çš„ROI2æ„å‘³ç€æ›´ä½çš„è·å®¢æˆæœ¬ï¼Œåœ¨å¸‚åœºç«äº‰ä¸­å…·æœ‰æ˜¾è‘—çš„æˆæœ¬ä¼˜åŠ¿ã€‚</li>
                </ul>
            </div>

            <div class="strategy-section">
                <h4>ğŸ¯ ä¸åŒROI2åŒºé—´çš„ç»è¥ç­–ç•¥</h4>
                
                <p><strong><span class="roi-range">ROI2 &lt; 1.5</span> å±æœºåŒºé—´ - ç´§æ€¥ä¼˜åŒ–</strong></p>
                <div class="marginal-benefit">
                    <h5>ğŸ’° è¾¹é™…æŠ•å…¥æ”¶ç›Šåˆ†æ</h5>
                    <p><strong>è¾¹é™…æ”¶ç›Šæ¯”ï¼š</strong>åœ¨æ­¤åŒºé—´ï¼ŒROI2æ¯æå‡0.1ï¼Œé”€å”®è´¹ç”¨ç‡å¯é™ä½4-6ä¸ªç™¾åˆ†ç‚¹ï¼Œè¾¹é™…æ”¶ç›Šæé«˜ã€‚</p>
                    <p><strong>è´¢åŠ¡å½±å“ï¼š</strong>å‡è®¾æœˆæ”¶å…¥1000ä¸‡ï¼ŒROI2ä»1.2æå‡åˆ°1.3ï¼Œé”€å”®è´¹ç”¨ç‡ä»83%é™è‡³77%ï¼Œå¯é‡Šæ”¾60ä¸‡ç°é‡‘æµï¼Œè¾¹é™…æŠ•å…¥æ”¶ç›Šæ¯”è¶…è¿‡10:1ã€‚</p>
                    <p><span class="priority-tag priority-efficiency">ä¼˜å…ˆç­–ç•¥ï¼šä¼˜åŒ–æ•ˆç‡ä¸ºå…ˆ</span></p>
                    <p><strong>åŸå› ï¼š</strong>æ­¤åŒºé—´ROI2æå‡çš„è¾¹é™…æ”¶ç›Šæœ€å¤§ï¼Œæ¯1å…ƒä¼˜åŒ–æŠ•å…¥å¯å¸¦æ¥10å€ä»¥ä¸Šçš„è´¹ç”¨èŠ‚çœã€‚æ‰©å¤§è§„æ¨¡ä¼šè¿›ä¸€æ­¥æ¶åŒ–ROI2ï¼Œå¯¼è‡´é”€å”®è´¹ç”¨ç‡é£™å‡ï¼Œç°é‡‘æµç´§å¼ ã€‚</p>
                </div>
                <ul>
                    <li><span class="highlight-strategy">æ ¸å¿ƒç›®æ ‡</span>ï¼šå¿«é€Ÿæå‡ROI2è‡³1.5ä»¥ä¸Šï¼Œé¿å…é”€å”®è´¹ç”¨ç‡è¶…è¿‡67%</li>
                    <li><span class="highlight-strategy">ç«‹å³è¡ŒåŠ¨</span>ï¼š
                        <ul>
                            <li>æš‚åœæˆ–å¤§å¹…å‰Šå‡ä½æ•ˆè¥é”€æ¸ é“æŠ•å…¥</li>
                            <li>èšç„¦é«˜è½¬åŒ–ç‡æ¸ é“ï¼Œç æ‰ROI2ä½äº1.2çš„æ¸ é“</li>
                            <li>ä¼˜åŒ–äº§å“å®šä»·ç­–ç•¥ï¼Œæå‡å®¢å•ä»·</li>
                            <li>åŠ å¼ºé”€å”®å›¢é˜ŸåŸ¹è®­ï¼Œæå‡è½¬åŒ–ç‡</li>
                            <li>è€ƒè™‘æš‚åœæ–°å¸‚åœºæ‰©å¼ ï¼Œä¸“æ³¨æ ¸å¿ƒå¸‚åœº</li>
                        </ul>
                    </li>
                    <li><span class="highlight-strategy">è´¢åŠ¡æ§åˆ¶</span>ï¼šä¸¥æ ¼æ§åˆ¶é”€å”®è´¹ç”¨é¢„ç®—ï¼Œå»ºç«‹ROI2æ—¥æŠ¥åˆ¶åº¦</li>
                </ul>

                <p><strong><span class="roi-range">ROI2: 1.5 - 2.0</span> ä¼˜åŒ–åŒºé—´ - ç²¾ç»†è¿è¥</strong></p>
                <div class="marginal-benefit">
                    <h5>ğŸ’° è¾¹é™…æŠ•å…¥æ”¶ç›Šåˆ†æ</h5>
                    <p><strong>è¾¹é™…æ”¶ç›Šæ¯”ï¼š</strong>åœ¨æ­¤åŒºé—´ï¼ŒROI2æ¯æå‡0.1ï¼Œé”€å”®è´¹ç”¨ç‡å¯é™ä½2-4ä¸ªç™¾åˆ†ç‚¹ï¼Œè¾¹é™…æ”¶ç›Šè¾ƒé«˜ã€‚</p>
                    <p><strong>è´¢åŠ¡å½±å“ï¼š</strong>å‡è®¾æœˆæ”¶å…¥1000ä¸‡ï¼ŒROI2ä»1.7æå‡åˆ°1.8ï¼Œé”€å”®è´¹ç”¨ç‡ä»59%é™è‡³56%ï¼Œå¯é‡Šæ”¾30ä¸‡ç°é‡‘æµï¼Œè¾¹é™…æŠ•å…¥æ”¶ç›Šæ¯”çº¦5:1ã€‚</p>
                    <p><span class="priority-tag priority-efficiency">ä¼˜å…ˆç­–ç•¥ï¼šä¼˜åŒ–æ•ˆç‡ä¸ºä¸»ï¼Œé€‚åº¦æ‰©å¤§è§„æ¨¡</span></p>
                    <p><strong>åŸå› ï¼š</strong>æ­¤åŒºé—´ä¼˜åŒ–æ•ˆç‡çš„è¾¹é™…æ”¶ç›Šä»ç„¶æ˜¾è‘—ï¼Œä½†å·²å…·å¤‡é€‚åº¦æ‰©å¼ çš„åŸºç¡€ã€‚å»ºè®®70%ç²¾åŠ›ç”¨äºæ•ˆç‡ä¼˜åŒ–ï¼Œ30%ç”¨äºé«˜ROI2æ¸ é“çš„è§„æ¨¡æ‰©å¤§ã€‚</p>
                </div>
                <ul>
                    <li><span class="highlight-strategy">æ ¸å¿ƒç›®æ ‡</span>ï¼šå°†ROI2æå‡è‡³2.0ä»¥ä¸Šï¼Œé”€å”®è´¹ç”¨ç‡æ§åˆ¶åœ¨50%ä»¥ä¸‹</li>
                    <li><span class="highlight-strategy">é‡ç‚¹ç­–ç•¥</span>ï¼š
                        <ul>
                            <li>ä¼˜åŒ–è¥é”€æ¸ é“ç»„åˆï¼Œæ·˜æ±°ROI2ä½äº1.8çš„æ¸ é“</li>
                            <li>æå‡å®¢æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼ˆLTVï¼‰ï¼Œé™ä½è·å®¢æˆæœ¬</li>
                            <li>åŠ å¼ºæ•°æ®åˆ†æå’ŒA/Bæµ‹è¯•ï¼ŒæŒç»­ä¼˜åŒ–è½¬åŒ–æ¼æ–—</li>
                            <li>å»ºç«‹æ¸ é“ROI2æ’åæœºåˆ¶ï¼Œä¼˜å…ˆæŠ•å…¥é«˜ROI2æ¸ é“</li>
                            <li>ä¼˜åŒ–äº§å“ç»„åˆï¼Œæå‡é«˜åˆ©æ¶¦äº§å“å æ¯”</li>
                        </ul>
                    </li>
                    <li><span class="highlight-strategy">è¿è¥ä¼˜åŒ–</span>ï¼šå»ºç«‹ROI2å‘¨æŠ¥åˆ¶åº¦ï¼Œè®¾ç½®æ¸ é“ROI2é¢„è­¦çº¿</li>
                </ul>

                <p><strong><span class="roi-range">ROI2: 2.0 - 3.0</span> å¥åº·åŒºé—´ - ç¨³å¥å¢é•¿</strong></p>
                <div class="marginal-benefit">
                    <h5>ğŸ’° è¾¹é™…æŠ•å…¥æ”¶ç›Šåˆ†æ</h5>
                    <p><strong>è¾¹é™…æ”¶ç›Šæ¯”ï¼š</strong>åœ¨æ­¤åŒºé—´ï¼ŒROI2æ¯æå‡0.1ï¼Œé”€å”®è´¹ç”¨ç‡å¯é™ä½1-2ä¸ªç™¾åˆ†ç‚¹ï¼Œè¾¹é™…æ”¶ç›Šé€‚ä¸­ã€‚</p>
                    <p><strong>è´¢åŠ¡å½±å“ï¼š</strong>å‡è®¾æœˆæ”¶å…¥1000ä¸‡ï¼ŒROI2ä»2.5æå‡åˆ°2.6ï¼Œé”€å”®è´¹ç”¨ç‡ä»40%é™è‡³38.5%ï¼Œå¯é‡Šæ”¾15ä¸‡ç°é‡‘æµï¼Œè¾¹é™…æŠ•å…¥æ”¶ç›Šæ¯”çº¦3:1ã€‚ä½†æ‰©å¤§è§„æ¨¡å¸¦æ¥çš„ç»å¯¹æ”¶ç›Šæ›´å¤§ã€‚</p>
                    <p><span class="priority-tag priority-scale">ä¼˜å…ˆç­–ç•¥ï¼šæ‰©å¤§è§„æ¨¡ä¸ºä¸»ï¼ŒæŒç»­ä¼˜åŒ–æ•ˆç‡</span></p>
                    <p><strong>åŸå› ï¼š</strong>æ­¤åŒºé—´ROI2å·²å¤„äºå¥åº·æ°´å¹³ï¼Œä¼˜åŒ–æ•ˆç‡çš„è¾¹é™…æ”¶ç›Šé€’å‡ã€‚æ‰©å¤§è§„æ¨¡å¸¦æ¥çš„ç»å¯¹æ”¶ç›Šï¼ˆæ”¶å…¥å¢é•¿ï¼‰è¿œå¤§äºæ•ˆç‡ä¼˜åŒ–çš„è¾¹é™…æ”¶ç›Šã€‚å»ºè®®60%ç²¾åŠ›ç”¨äºè§„æ¨¡æ‰©å¼ ï¼Œ40%ç”¨äºæ•ˆç‡ä¼˜åŒ–ã€‚</p>
                </div>
                <ul>
                    <li><span class="highlight-strategy">æ ¸å¿ƒç›®æ ‡</span>ï¼šç»´æŒROI2åœ¨2.0ä»¥ä¸Šï¼Œé”€å”®è´¹ç”¨ç‡æ§åˆ¶åœ¨33%-50%</li>
                    <li><span class="highlight-strategy">å¢é•¿ç­–ç•¥</span>ï¼š
                        <ul>
                            <li>é€‚åº¦æ‰©å¤§é«˜ROI2æ¸ é“çš„æŠ•å…¥è§„æ¨¡</li>
                            <li>æ¢ç´¢æ–°çš„é«˜æ½œåŠ›è¥é”€æ¸ é“</li>
                            <li>æå‡å“ç‰Œå½±å“åŠ›ï¼Œé™ä½é•¿æœŸè·å®¢æˆæœ¬</li>
                            <li>ä¼˜åŒ–å®¢æˆ·ç•™å­˜å’Œå¤è´­ç­–ç•¥</li>
                            <li>è€ƒè™‘è¿›å…¥æ–°å¸‚åœºï¼Œä½†éœ€ç¡®ä¿ROI2ä¸ä½äº2.0</li>
                        </ul>
                    </li>
                    <li><span class="highlight-strategy">ç²¾ç»†ç®¡ç†</span>ï¼šå»ºç«‹ROI2æœˆæŠ¥åˆ¶åº¦ï¼ŒæŒç»­ç›‘æ§æ¸ é“è¡¨ç°</li>
                </ul>

                <p><strong><span class="roi-range">ROI2: 3.0 - 5.0</span> ä¼˜ç§€åŒºé—´ - è§„æ¨¡æ‰©å¼ </strong></p>
                <div class="marginal-benefit">
                    <h5>ğŸ’° è¾¹é™…æŠ•å…¥æ”¶ç›Šåˆ†æ</h5>
                    <p><strong>è¾¹é™…æ”¶ç›Šæ¯”ï¼š</strong>åœ¨æ­¤åŒºé—´ï¼ŒROI2æ¯æå‡0.1ï¼Œé”€å”®è´¹ç”¨ç‡ä»…é™ä½0.5-1ä¸ªç™¾åˆ†ç‚¹ï¼Œè¾¹é™…æ”¶ç›Šè¾ƒä½ã€‚</p>
                    <p><strong>è´¢åŠ¡å½±å“ï¼š</strong>å‡è®¾æœˆæ”¶å…¥1000ä¸‡ï¼ŒROI2ä»4.0æå‡åˆ°4.1ï¼Œé”€å”®è´¹ç”¨ç‡ä»25%é™è‡³24.4%ï¼Œä»…é‡Šæ”¾6ä¸‡ç°é‡‘æµï¼Œè¾¹é™…æŠ•å…¥æ”¶ç›Šæ¯”çº¦1.5:1ã€‚ä½†æ‰©å¤§è§„æ¨¡å¸¦æ¥çš„æ”¶å…¥å¢é•¿æ”¶ç›Šæ˜¾è‘—ã€‚</p>
                    <p><span class="priority-tag priority-scale">ä¼˜å…ˆç­–ç•¥ï¼šæ‰©å¤§è§„æ¨¡ä¸ºå…ˆï¼Œç»´æŒæ•ˆç‡æ°´å¹³</span></p>
                    <p><strong>åŸå› ï¼š</strong>æ­¤åŒºé—´ROI2å·²å¤„äºä¼˜ç§€æ°´å¹³ï¼Œæ•ˆç‡ä¼˜åŒ–çš„è¾¹é™…æ”¶ç›Šé€’å‡æ˜æ˜¾ã€‚æ‰©å¤§è§„æ¨¡å¸¦æ¥çš„æ”¶å…¥å¢é•¿å’Œå¸‚åœºä»½é¢æå‡çš„ç»å¯¹ä»·å€¼è¿œå¤§äºæ•ˆç‡ä¼˜åŒ–çš„è¾¹é™…æ”¶ç›Šã€‚å»ºè®®80%ç²¾åŠ›ç”¨äºè§„æ¨¡æ‰©å¼ ï¼Œ20%ç”¨äºç»´æŒæ•ˆç‡ã€‚</p>
                </div>
                <ul>
                    <li><span class="highlight-strategy">æ ¸å¿ƒç›®æ ‡</span>ï¼šç»´æŒé«˜ROI2ï¼Œé”€å”®è´¹ç”¨ç‡æ§åˆ¶åœ¨20%-33%</li>
                    <li><span class="highlight-strategy">æ‰©å¼ ç­–ç•¥</span>ï¼š
                        <ul>
                            <li>å¤§å¹…å¢åŠ è¥é”€æŠ•å…¥ï¼Œå¿«é€Ÿæ‰©å¤§å¸‚åœºä»½é¢</li>
                            <li>å¤åˆ¶æˆåŠŸæ¸ é“æ¨¡å¼åˆ°æ–°å¸‚åœº</li>
                            <li>æŠ•èµ„å“ç‰Œå»ºè®¾ï¼Œå»ºç«‹é•¿æœŸç«äº‰ä¼˜åŠ¿</li>
                            <li>æ¢ç´¢æ–°çš„ä¸šåŠ¡æ¨¡å¼å’Œå¢é•¿ç‚¹</li>
                            <li>è€ƒè™‘æˆ˜ç•¥æŠ•èµ„å’Œå¹¶è´­æœºä¼š</li>
                        </ul>
                    </li>
                    <li><span class="highlight-strategy">æˆ˜ç•¥å¸ƒå±€</span>ï¼šå»ºç«‹ROI2å­£åº¦æˆ˜ç•¥å›é¡¾ï¼Œè§„åˆ’é•¿æœŸå¢é•¿è·¯å¾„</li>
                </ul>

                <p><strong><span class="roi-range">ROI2 &gt; 5.0</span> å“è¶ŠåŒºé—´ - è¡Œä¸šé¢†å…ˆ</strong></p>
                <div class="marginal-benefit">
                    <h5>ğŸ’° è¾¹é™…æŠ•å…¥æ”¶ç›Šåˆ†æ</h5>
                    <p><strong>è¾¹é™…æ”¶ç›Šæ¯”ï¼š</strong>åœ¨æ­¤åŒºé—´ï¼ŒROI2æ¯æå‡0.1ï¼Œé”€å”®è´¹ç”¨ç‡ä»…é™ä½0.2-0.5ä¸ªç™¾åˆ†ç‚¹ï¼Œè¾¹é™…æ”¶ç›Šæä½ã€‚</p>
                    <p><strong>è´¢åŠ¡å½±å“ï¼š</strong>å‡è®¾æœˆæ”¶å…¥1000ä¸‡ï¼ŒROI2ä»6.0æå‡åˆ°6.1ï¼Œé”€å”®è´¹ç”¨ç‡ä»16.7%é™è‡³16.4%ï¼Œä»…é‡Šæ”¾3ä¸‡ç°é‡‘æµï¼Œè¾¹é™…æŠ•å…¥æ”¶ç›Šæ¯”çº¦1:1ã€‚æ‰©å¤§è§„æ¨¡å¸¦æ¥çš„æ”¶å…¥å¢é•¿å’Œå¸‚åœºä»½é¢ä»·å€¼è¿œè¶…æ•ˆç‡ä¼˜åŒ–ã€‚</p>
                    <p><span class="priority-tag priority-scale">ä¼˜å…ˆç­–ç•¥ï¼šå…¨åŠ›æ‰©å¤§è§„æ¨¡ï¼Œç»´æŒæ•ˆç‡ä¼˜åŠ¿</span></p>
                    <p><strong>åŸå› ï¼š</strong>æ­¤åŒºé—´ROI2å·²è¾¾åˆ°è¡Œä¸šé¢†å…ˆæ°´å¹³ï¼Œæ•ˆç‡ä¼˜åŒ–çš„è¾¹é™…æ”¶ç›Šå·²æ¥è¿‘æé™ã€‚åº”å°†å…¨éƒ¨ç²¾åŠ›æŠ•å…¥åˆ°è§„æ¨¡æ‰©å¼ ã€å¸‚åœºå é¢†å’Œå»ºç«‹è¡Œä¸šå£å’ä¸Šï¼Œé€šè¿‡è§„æ¨¡æ•ˆåº”è¿›ä¸€æ­¥å·©å›ºç«äº‰ä¼˜åŠ¿ã€‚</p>
                </div>
                <ul>
                    <li><span class="highlight-strategy">æ ¸å¿ƒç›®æ ‡</span>ï¼šç»´æŒè¡Œä¸šé¢†å…ˆåœ°ä½ï¼Œé”€å”®è´¹ç”¨ç‡æ§åˆ¶åœ¨20%ä»¥ä¸‹</li>
                    <li><span class="highlight-strategy">é¢†å…ˆç­–ç•¥</span>ï¼š
                        <ul>
                            <li>å»ºç«‹è¡Œä¸šå£å’ï¼Œå·©å›ºç«äº‰ä¼˜åŠ¿</li>
                            <li>æŠ•èµ„åˆ›æ–°å’Œç ”å‘ï¼Œä¿æŒäº§å“é¢†å…ˆ</li>
                            <li>å»ºç«‹å¼ºå¤§çš„å“ç‰ŒæŠ¤åŸæ²³</li>
                            <li>æ¢ç´¢å¤šå…ƒåŒ–ä¸šåŠ¡å‘å±•</li>
                            <li>é€šè¿‡è§„æ¨¡æ‰©å¼ å»ºç«‹å¸‚åœºä¸»å¯¼åœ°ä½</li>
                        </ul>
                    </li>
                    <li><span class="highlight-strategy">é•¿æœŸè§„åˆ’</span>ï¼šå»ºç«‹ROI2å¹´åº¦æˆ˜ç•¥è§„åˆ’ï¼Œåˆ¶å®šé•¿æœŸå‘å±•è“å›¾</li>
                </ul>
            </div>

            <div class="strategy-section">
                <h4>âš¡ å…³é”®è¡ŒåŠ¨åŸåˆ™</h4>
                <ul>
                    <li><strong>å®æ—¶ç›‘æ§</strong>ï¼šå»ºç«‹ROI2å®æ—¶ç›‘æ§ä½“ç³»ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸æ³¢åŠ¨</li>
                    <li><strong>å¿«é€Ÿå“åº”</strong>ï¼šROI2ä¸‹é™è¶…è¿‡0.2æ—¶ï¼Œç«‹å³å¯åŠ¨ä¼˜åŒ–æªæ–½</li>
                    <li><strong>æ¸ é“åˆ†çº§</strong>ï¼šæŒ‰ROI2å¯¹æ¸ é“è¿›è¡Œåˆ†çº§ç®¡ç†ï¼Œä¼˜å…ˆæŠ•å…¥é«˜ROI2æ¸ é“</li>
                    <li><strong>æŒç»­ä¼˜åŒ–</strong>ï¼šå®šæœŸå›é¡¾å’Œä¼˜åŒ–è¥é”€ç­–ç•¥ï¼Œä¿æŒROI2æŒç»­æå‡</li>
                    <li><strong>æ•°æ®é©±åŠ¨</strong>ï¼šåŸºäºæ•°æ®åšå†³ç­–ï¼Œé¿å…å‡­æ„Ÿè§‰æŠ•å…¥è¥é”€è´¹ç”¨</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // è®¡ç®—è¾¹é™…å˜åŒ–é‡
        function calculateMarginalChange(x) {
            const deltaX = 0.1;
            const currentY = 1 / x;
            const currentProfitRate = 1 - currentY;

            // ROI2ä¸‹é™0.1
            const xDecreased = Math.max(0.1, x - deltaX);
            const yAfterDecrease = 1 / xDecreased;
            const deltaYIncrease = yAfterDecrease - currentY;
            const profitRateAfterDecrease = 1 - yAfterDecrease;
            const deltaProfitDecrease = profitRateAfterDecrease - currentProfitRate;

            // ROI2ä¸Šå‡0.1
            const xIncreased = x + deltaX;
            const yAfterIncrease = 1 / xIncreased;
            const deltaYDecrease = yAfterIncrease - currentY;
            const profitRateAfterIncrease = 1 - yAfterIncrease;
            const deltaProfitIncrease = profitRateAfterIncrease - currentProfitRate;

            return {
                deltaYIncrease,
                deltaYDecrease,
                deltaProfitDecrease,
                deltaProfitIncrease
            };
        }

        // æ›´æ–°ä¿¡æ¯é¢æ¿
        function updateInfoPanel(x, y) {
            const changes = calculateMarginalChange(x);
            
            document.getElementById('roi2Value').textContent = x.toFixed(3);
            document.getElementById('expenseRate').textContent = (y * 100).toFixed(2) + '%';
            
            const sensitivityHTML = `
                ROI2â†“0.1 â†’ è´¹ç”¨ç‡â†‘${(changes.deltaYIncrease * 100).toFixed(2)}% â†’ åˆ©æ¶¦ç‡â†“${(Math.abs(changes.deltaProfitDecrease) * 100).toFixed(2)}%<br>
                ROI2â†‘0.1 â†’ è´¹ç”¨ç‡â†“${(Math.abs(changes.deltaYDecrease) * 100).toFixed(2)}% â†’ åˆ©æ¶¦ç‡â†‘${(changes.deltaProfitIncrease * 100).toFixed(2)}%
            `;
            document.getElementById('sensitivityInfo').innerHTML = sensitivityHTML;
            
            // è®¡ç®—åˆ©æ¶¦å€¼å½±å“ï¼ˆä»¥1000ä¸‡æ”¶å…¥ä¸ºä¾‹ï¼‰
            const revenue = 1000; // 1000ä¸‡
            
            // ROI2ä¸‹é™0.1æ—¶çš„åˆ©æ¶¦å˜åŒ–
            const profitDecrease = revenue * Math.abs(changes.deltaProfitDecrease);
            
            // ROI2ä¸Šå‡0.1æ—¶çš„åˆ©æ¶¦å˜åŒ–
            const profitIncrease = revenue * changes.deltaProfitIncrease;
            
            const profitImpactHTML = `
                ROI2â†“0.1 â†’ åˆ©æ¶¦å‡å°‘${profitDecrease.toFixed(0)}ä¸‡<br>
                ROI2â†‘0.1 â†’ åˆ©æ¶¦å¢åŠ ${profitIncrease.toFixed(0)}ä¸‡
            `;
            document.getElementById('profitImpactInfo').innerHTML = profitImpactHTML;
        }

        // ç”Ÿæˆæ›²çº¿æ•°æ®
        function generateCurveData() {
            const x = [];
            const y = [];
            for (let i = 0.1; i <= 5.0; i += 0.025) {
                x.push(i);
                y.push(1 / i);
            }
            return { x, y };
        }

        // åˆå§‹ç‚¹ä½ç½®
        let currentX = 1.0;
        let currentY = 1.0;
        let isDragging = false;
        let dragStartX = null;

        // ç”Ÿæˆæ›²çº¿æ•°æ®
        const curveData = generateCurveData();

        // åˆ›å»ºå›¾è¡¨
        const trace1 = {
            x: curveData.x,
            y: curveData.y,
            type: 'scatter',
            mode: 'lines',
            name: 'f(x) = 1/x',
            line: {
                color: '#1f77b4',
                width: 2.5
            },
            hovertemplate: 'ROI2: %{x:.3f}<br>é”€å”®è´¹ç”¨ç‡: %{y:.2%}<extra></extra>'
        };

        const trace2 = {
            x: [currentX],
            y: [currentY],
            type: 'scatter',
            mode: 'markers',
            name: 'å½“å‰ç‚¹',
            marker: {
                color: 'red',
                size: 12,
                symbol: 'circle'
            },
            hovertemplate: 'ROI2: %{x:.3f}<br>é”€å”®è´¹ç”¨ç‡: %{y:.2%}<extra></extra>'
        };

        const layout = {
            title: {
                text: 'ROI2&é”€å”®è´¹ç”¨ç‡æ•æ„Ÿåº¦åˆ†æ',
                font: { size: 16 }
            },
            xaxis: {
                title: 'ROI2 (x)',
                range: [0.1, 5.0],
                gridcolor: '#e0e0e0',
                gridwidth: 1,
                showgrid: true,
                zeroline: false
            },
            yaxis: {
                title: 'é”€å”®è´¹ç”¨ç‡',
                range: [0, 10],
                tickformat: '.0%',
                gridcolor: '#e0e0e0',
                gridwidth: 1,
                showgrid: true,
                zeroline: false
            },
            hovermode: 'closest',
            showlegend: true,
            legend: {
                x: 0.02,
                y: 0.98,
                bgcolor: 'rgba(255,255,255,0.8)',
                xanchor: 'left',
                yanchor: 'top'
            },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            margin: { l: 80, r: 20, t: 60, b: 50 },
            dragmode: false,
            selectdirection: false
        };

        const config = {
            displayModeBar: true,
            responsive: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['lasso2d', 'select2d', 'zoom2d', 'pan2d', 'autoScale2d', 'resetScale2d', 'zoomIn2d', 'zoomOut2d'],
            doubleClick: false,
            dragmode: false,
            scrollZoom: false
        };

        const data = [trace1, trace2];

        // ç»˜åˆ¶å›¾è¡¨
        const chartDiv = document.getElementById('chart');
        Plotly.newPlot(chartDiv, data, layout, config);

        // ç¦ç”¨Plotlyçš„é»˜è®¤äº¤äº’åŠŸèƒ½ï¼ˆç¼©æ”¾ã€å¹³ç§»ç­‰ï¼‰
        Plotly.relayout(chartDiv, {
            dragmode: false
        });

        // ç¦ç”¨åŒå‡»ç¼©æ”¾å’Œé‡ç½®
        chartDiv.on('plotly_doubleclick', function(eventData) {
            if (eventData && eventData.event) {
                eventData.event.preventDefault();
                eventData.event.stopPropagation();
            }
            // é˜»æ­¢é»˜è®¤çš„åŒå‡»è¡Œä¸º
            Plotly.relayout(chartDiv, {
                'xaxis.range': [0.1, 5.0],
                'yaxis.range': [0, 10]
            });
            return false;
        });

        // ä½¿ç”¨åŸç”Ÿäº‹ä»¶ç›‘å¬å™¨é˜»æ­¢åŒå‡»ï¼ˆä½†ä¸é˜»æ­¢æ‹–åŠ¨ï¼‰
        chartDiv.addEventListener('dblclick', function(e) {
            if (!isDragging) {
                e.preventDefault();
                e.stopPropagation();
            }
            return false;
        }, { capture: true });

        // ç¦ç”¨æ»šè½®ç¼©æ”¾
        chartDiv.on('plotly_wheel', function(eventData) {
            if (isDragging) {
                eventData.event.preventDefault();
                eventData.event.stopPropagation();
                return false;
            }
        });

        // æ›´æ–°åˆå§‹ä¿¡æ¯é¢æ¿
        updateInfoPanel(currentX, currentY);

        // æ›´æ–°ç‚¹çš„ä½ç½®
        function updatePoint() {
            // è®¾ç½®æ ‡å¿—ä½ï¼Œé˜²æ­¢relayoutäº‹ä»¶å¤„ç†å¹²æ‰°
            isUpdatingPoint = true;
            
            const update = {
                x: [[currentX]],
                y: [[currentY]]
            };
            
            // ä½¿ç”¨requestAnimationFrameç¡®ä¿æ›´æ–°æµç•…
            requestAnimationFrame(function() {
                Plotly.restyle(chartDiv, update, 1).then(function() {
                    // æ›´æ–°å®Œæˆåé‡ç½®æ ‡å¿—ä½
                    setTimeout(function() {
                        isUpdatingPoint = false;
                    }, 50);
                }).catch(function(err) {
                    // å¦‚æœå‡ºé”™ï¼Œä¹Ÿè¦é‡ç½®æ ‡å¿—ä½
                    isUpdatingPoint = false;
                });
            });
            
            updateInfoPanel(currentX, currentY);
        }

        // å°†åƒç´ åæ ‡è½¬æ¢ä¸ºæ•°æ®åæ ‡
        function pixelToData(clientX, clientY) {
            const rect = chartDiv.getBoundingClientRect();
            const relativeX = clientX - rect.left;
            const relativeY = clientY - rect.top;
            
            // ä½¿ç”¨Plotlyçš„APIè½¬æ¢åæ ‡
            const gd = chartDiv;
            if (!gd._fullLayout) return null;
            
            const xaxis = gd._fullLayout.xaxis;
            const yaxis = gd._fullLayout.yaxis;
            
            // è·å–ç»˜å›¾åŒºåŸŸ
            const plotArea = gd._fullLayout._size;
            if (!plotArea) return null;
            
            // è®¡ç®—ç›¸å¯¹äºç»˜å›¾åŒºåŸŸçš„åæ ‡
            const plotX = relativeX - plotArea.l;
            const plotY = relativeY - plotArea.t;
            
            // æ£€æŸ¥æ˜¯å¦åœ¨ç»˜å›¾åŒºåŸŸå†…
            if (plotX < 0 || plotX > plotArea.w || plotY < 0 || plotY > plotArea.h) {
                return null;
            }
            
            // è½¬æ¢ä¸ºæ•°æ®åæ ‡
            const dataX = xaxis.p2d(plotX);
            const dataY = yaxis.p2d(plotY);
            
            return { x: dataX, y: dataY };
        }

        // æ”¹è¿›çš„æ‹–åŠ¨å®ç°
        let lastUpdateTime = 0;
        let isMouseDown = false;

        // åœæ­¢æ‹–åŠ¨çš„å‡½æ•°
        function stopDragging() {
            isDragging = false;
            isMouseDown = false;
            dragStartX = null;
            chartDiv.style.cursor = 'default';
            // ç¡®ä¿ç¦ç”¨äº¤äº’æ¨¡å¼
            Plotly.relayout(chartDiv, { dragmode: false });
        }

        // å¤„ç†ç‚¹å‡»äº‹ä»¶
        chartDiv.on('plotly_click', function(eventData) {
            if (eventData.points.length > 0) {
                const point = eventData.points[0];
                
                // æ‹–åŠ¨ç”±mousedownäº‹ä»¶å¤„ç†ï¼Œè¿™é‡Œåªå¤„ç†ç‚¹å‡»æ›²çº¿
                if (point.curveNumber === 0) {
                    // ç‚¹å‡»æ›²çº¿æˆ–å…¶ä»–ä½ç½®ï¼Œç§»åŠ¨åˆ°è¯¥ä½ç½®
                    const clickedX = Math.max(0.1, Math.min(5.0, point.x));
                    currentX = clickedX;
                    currentY = 1 / currentX;
                    updatePoint();
                }
            }
        });

        // ä½¿ç”¨mousedownäº‹ä»¶æ£€æµ‹æ‹–åŠ¨å¼€å§‹ï¼ˆä½¿ç”¨captureæ¨¡å¼ï¼Œç¡®ä¿ä¼˜å…ˆå¤„ç†ï¼‰
        function handleMouseDown(e) {
            // åªå¤„ç†å·¦é”®
            if (e.button !== 0) return;
            
            // æ£€æŸ¥æ˜¯å¦ç‚¹å‡»åœ¨çº¢ç‚¹é™„è¿‘
            const rect = chartDiv.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            
            // è·å–çº¢ç‚¹çš„å±å¹•åæ ‡
            const gd = chartDiv;
            if (gd._fullLayout && gd._fullLayout._size) {
                const size = gd._fullLayout._size;
                const xaxis = gd._fullLayout.xaxis;
                const yaxis = gd._fullLayout.yaxis;
                
                if (xaxis && yaxis && xaxis.d2p && yaxis.d2p) {
                    try {
                        const pointX = xaxis.d2p(currentX) + size.l;
                        const pointY = yaxis.d2p(currentY) + size.t;
                        
                        // æ£€æŸ¥æ˜¯å¦ç‚¹å‡»åœ¨çº¢ç‚¹é™„è¿‘ï¼ˆ20åƒç´ èŒƒå›´å†…ï¼‰
                        const distance = Math.sqrt(Math.pow(mouseX - pointX, 2) + Math.pow(mouseY - pointY, 2));
                        if (distance < 20) {
                            isDragging = true;
                            isMouseDown = true;
                            chartDiv.style.cursor = 'grabbing';
                            
                            // ç¦ç”¨Plotlyçš„é»˜è®¤äº¤äº’
                            Plotly.relayout(chartDiv, { dragmode: false });
                            
                            // é˜»æ­¢Plotlyå¤„ç†è¿™ä¸ªäº‹ä»¶
                            e.preventDefault();
                            e.stopPropagation();
                            return false;
                        }
                    } catch (err) {
                        // å¿½ç•¥è½¬æ¢é”™è¯¯
                    }
                }
            }
        }
        
        // ç»‘å®šmousedownäº‹ä»¶ï¼ˆcaptureæ¨¡å¼ï¼Œç¡®ä¿ä¼˜å…ˆäºPlotlyï¼‰
        chartDiv.addEventListener('mousedown', handleMouseDown, { capture: true, passive: false });

        // ä½¿ç”¨mousemoveäº‹ä»¶å®ç°æ‹–åŠ¨
        function handleMouseMove(e) {
            if (isDragging && isMouseDown) {
                // é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œä½†å…è®¸äº‹ä»¶ç»§ç»­ä¼ æ’­ï¼ˆç”¨äºæ‹–åŠ¨ï¼‰
                e.preventDefault();
                e.stopPropagation();
                
                const now = Date.now();
                if (now - lastUpdateTime < 16) return; // é™åˆ¶æ›´æ–°é¢‘ç‡ï¼Œæé«˜æ€§èƒ½
                lastUpdateTime = now;
                
                // è·å–é¼ æ ‡åœ¨å›¾è¡¨ä¸­çš„ä½ç½®
                const rect = chartDiv.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                
                // ä½¿ç”¨Plotlyçš„APIè½¬æ¢åæ ‡
                const gd = chartDiv;
                if (!gd._fullLayout || !gd._fullLayout._size) return;
                
                const size = gd._fullLayout._size;
                const xaxis = gd._fullLayout.xaxis;
                
                // è®¡ç®—ç›¸å¯¹äºç»˜å›¾åŒºåŸŸçš„Xåæ ‡
                const plotX = mouseX - size.l;
                
                // æ£€æŸ¥æ˜¯å¦åœ¨ç»˜å›¾åŒºåŸŸå†…
                if (plotX >= 0 && plotX <= size.w && xaxis && xaxis.p2d) {
                    try {
                        const dataX = xaxis.p2d(plotX);
                        const constrainedX = Math.max(0.1, Math.min(5.0, dataX));
                        
                        // åªæœ‰å½“Xå€¼å‘ç”Ÿå˜åŒ–æ—¶æ‰æ›´æ–°
                        if (Math.abs(constrainedX - currentX) > 0.001) {
                            currentX = constrainedX;
                            currentY = 1 / currentX;
                            // ä½¿ç”¨requestAnimationFrameç¡®ä¿æ›´æ–°æµç•…
                            requestAnimationFrame(function() {
                                updatePoint();
                            });
                        }
                    } catch (err) {
                        // å¿½ç•¥è½¬æ¢é”™è¯¯
                    }
                }
            }
        }

        // ç»‘å®šmousemoveäº‹ä»¶ï¼ˆä½¿ç”¨captureæ¨¡å¼ç¡®ä¿èƒ½æ•è·ï¼Œä½†ä¼˜å…ˆçº§è¦é«˜äºPlotlyï¼‰
        chartDiv.addEventListener('mousemove', handleMouseMove, { capture: true, passive: false });
        
        // å…¨å±€mousemoveäº‹ä»¶ï¼ˆç¡®ä¿å³ä½¿é¼ æ ‡ç§»å‡ºå›¾è¡¨ä¹Ÿèƒ½æ‹–åŠ¨ï¼‰
        document.addEventListener('mousemove', handleMouseMove, { capture: true, passive: false });

        // å¤„ç†é¼ æ ‡é‡Šæ”¾ï¼ˆä½¿ç”¨captureæ¨¡å¼ï¼Œç¡®ä¿ä¼˜å…ˆå¤„ç†ï¼‰
        function handleMouseUp(e) {
            if (isDragging || isMouseDown) {
                stopDragging();
                e.preventDefault();
                e.stopPropagation();
            }
        }

        // ç»‘å®šmouseupäº‹ä»¶ï¼ˆå¤šä¸ªä½ç½®ç¡®ä¿èƒ½æ•è·ï¼Œä½¿ç”¨captureæ¨¡å¼ï¼‰
        chartDiv.addEventListener('mouseup', handleMouseUp, { capture: true, passive: false });
        document.addEventListener('mouseup', handleMouseUp, { capture: true, passive: false });
        window.addEventListener('mouseup', handleMouseUp, { capture: true, passive: false });

        // å¤„ç†é¼ æ ‡ç¦»å¼€å›¾è¡¨åŒºåŸŸ
        chartDiv.addEventListener('mouseleave', function(e) {
            if (isDragging) {
                // ä¸ç«‹å³åœæ­¢ï¼Œå…è®¸ç»§ç»­æ‹–åŠ¨
                // ä½†å¦‚æœé¼ æ ‡æŒ‰é’®å·²é‡Šæ”¾ï¼Œåˆ™åœæ­¢
                if (!isMouseDown) {
                    stopDragging();
                }
            }
        });

        // å¤„ç†é¼ æ ‡ç¦»å¼€çª—å£
        window.addEventListener('mouseleave', function(e) {
            stopDragging();
        });

        // å¤„ç†å¤±å»ç„¦ç‚¹ï¼ˆç¡®ä¿åœæ­¢æ‹–åŠ¨ï¼‰
        window.addEventListener('blur', function() {
            stopDragging();
        });

        // æ·»åŠ é¼ æ ‡æ ·å¼æç¤º
        chartDiv.style.cursor = 'default';
        
        // å½“é¼ æ ‡æ‚¬åœåœ¨çº¢ç‚¹ä¸Šæ—¶æ”¹å˜å…‰æ ‡
        chartDiv.on('plotly_hover', function(eventData) {
            if (!isDragging) {
                if (eventData.points.length > 0 && eventData.points[0].curveNumber === 1) {
                    chartDiv.style.cursor = 'grab';
                } else {
                    chartDiv.style.cursor = 'default';
                }
            }
        });

        // é˜»æ­¢Plotlyçš„é»˜è®¤äº¤äº’ï¼ˆç¼©æ”¾ã€å¹³ç§»ç­‰ï¼‰
        let isUpdatingPoint = false; // æ ‡å¿—ä½ï¼Œé˜²æ­¢é€’å½’è°ƒç”¨
        let relayoutBlocked = false; // æ ‡å¿—ä½ï¼Œé˜²æ­¢relayoutäº‹ä»¶å¤„ç†
        
        chartDiv.on('plotly_relayout', function(eventData) {
            // å¦‚æœæ­£åœ¨æ›´æ–°ç‚¹ï¼Œå¿½ç•¥relayoutäº‹ä»¶ï¼ˆè¿™æ˜¯ç”±æˆ‘ä»¬çš„updatePointè§¦å‘çš„ï¼‰
            if (isUpdatingPoint) {
                return;
            }
            
            // å¦‚æœæ­£åœ¨æ‹–åŠ¨ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰èŒƒå›´å˜åŒ–ï¼ˆç”¨æˆ·å°è¯•ç¼©æ”¾/å¹³ç§»ï¼‰
            if (isDragging) {
                // æ£€æŸ¥æ˜¯å¦æœ‰èŒƒå›´å˜åŒ–
                if (eventData['xaxis.range'] || eventData['yaxis.range']) {
                    // æ¢å¤åŸå§‹å¸ƒå±€ï¼ˆä½¿ç”¨æ ‡å¿—ä½é˜²æ­¢é€’å½’ï¼‰
                    if (!relayoutBlocked) {
                        relayoutBlocked = true;
                        Plotly.relayout(chartDiv, {
                            'xaxis.range': [0.1, 5.0],
                            'yaxis.range': [0, 10]
                        }).then(function() {
                            setTimeout(function() {
                                relayoutBlocked = false;
                            }, 100);
                        });
                    }
                }
            }
        });

        // ç¦ç”¨æ‰€æœ‰Plotlyçš„é»˜è®¤äº¤äº’æ¨¡å¼
        chartDiv.on('plotly_beforehover', function(eventData) {
            if (isDragging) {
                return false;
            }
        });

        // é˜»æ­¢æ»šè½®ç¼©æ”¾ï¼ˆä½†åªåœ¨éæ‹–åŠ¨æ—¶é˜»æ­¢ï¼‰
        chartDiv.addEventListener('wheel', function(e) {
            if (!isDragging) {
                e.preventDefault();
                e.stopPropagation();
            }
            return false;
        }, { passive: false, capture: false });

        // é˜»æ­¢è§¦æ‘¸äº‹ä»¶ï¼ˆç§»åŠ¨è®¾å¤‡ï¼‰
        chartDiv.addEventListener('touchstart', function(e) {
            if (isDragging) {
                e.preventDefault();
                e.stopPropagation();
            }
        }, { passive: false });

        chartDiv.addEventListener('touchmove', function(e) {
            if (isDragging) {
                e.preventDefault();
                e.stopPropagation();
            }
        }, { passive: false });

        // æ·»åŠ é”®ç›˜å¿«æ·é”®æ”¯æŒ
        document.addEventListener('keydown', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return;
            }
            
            const step = 0.1;
            if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                e.preventDefault();
                const direction = e.key === 'ArrowLeft' ? -step : step;
                currentX = Math.max(0.1, Math.min(5.0, currentX + direction));
                currentY = 1 / currentX;
                updatePoint();
            }
        });

        // è®¡ç®—å™¨åŠŸèƒ½
        function calculateFromROI2() {
            const roi2Input = document.getElementById('inputROI2');
            const roi2Value = parseFloat(roi2Input.value);
            
            if (isNaN(roi2Value) || roi2Value < 0.1 || roi2Value > 5.0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ROI2å€¼ï¼ˆèŒƒå›´: 0.1 - 5.0ï¼‰');
                return;
            }
            
            // è®¡ç®—é”€å”®è´¹ç”¨ç‡
            const expenseRate = 1 / roi2Value;
            
            // æ›´æ–°è¾“å…¥æ¡†
            document.getElementById('inputExpenseRate').value = (expenseRate * 100).toFixed(2);
            
            // è®¡ç®—å˜åŠ¨å¹¶æ˜¾ç¤ºç»“æœ
            calculateAndDisplay(roi2Value, expenseRate);
            
            // æ›´æ–°å›¾è¡¨
            updateChartFromCalculator(roi2Value, expenseRate);
        }

        function calculateFromExpenseRate() {
            const expenseRateInput = document.getElementById('inputExpenseRate');
            const expenseRatePercent = parseFloat(expenseRateInput.value);
            
            if (isNaN(expenseRatePercent) || expenseRatePercent < 20 || expenseRatePercent > 1000) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„é”€å”®è´¹ç”¨ç‡ï¼ˆèŒƒå›´: 20% - 1000%ï¼‰');
                return;
            }
            
            // è½¬æ¢ä¸ºå°æ•°
            const expenseRate = expenseRatePercent / 100;
            
            // è®¡ç®—ROI2
            const roi2Value = 1 / expenseRate;
            
            // æ£€æŸ¥ROI2æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´å†…
            if (roi2Value < 0.1 || roi2Value > 5.0) {
                alert('è®¡ç®—å‡ºçš„ROI2å€¼è¶…å‡ºæœ‰æ•ˆèŒƒå›´ï¼ˆ0.1 - 5.0ï¼‰ï¼Œè¯·è°ƒæ•´é”€å”®è´¹ç”¨ç‡');
                return;
            }
            
            // æ›´æ–°è¾“å…¥æ¡†
            document.getElementById('inputROI2').value = roi2Value.toFixed(3);
            
            // è®¡ç®—å˜åŠ¨å¹¶æ˜¾ç¤ºç»“æœ
            calculateAndDisplay(roi2Value, expenseRate);
            
            // æ›´æ–°å›¾è¡¨
            updateChartFromCalculator(roi2Value, expenseRate);
        }

        function calculateAndDisplay(roi2, expenseRate) {
            // è®¡ç®—å˜åŠ¨é‡
            const changes = calculateMarginalChange(roi2);
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('resultROI2').textContent = roi2.toFixed(3);
            document.getElementById('resultExpenseRate').textContent = (expenseRate * 100).toFixed(2) + '%';
            
            // ROI2å˜åŠ¨
            document.getElementById('resultROI2ChangeDown').textContent = (roi2 - 0.1).toFixed(3);
            document.getElementById('resultROI2ChangeUp').textContent = (roi2 + 0.1).toFixed(3);
            
            // é”€å”®è´¹ç”¨ç‡å˜åŠ¨
            const expenseRateDown = 1 / Math.max(0.1, roi2 - 0.1);
            const expenseRateUp = 1 / (roi2 + 0.1);
            document.getElementById('resultExpenseRateChangeDown').textContent = 
                (expenseRateDown * 100).toFixed(2) + '% (å˜åŠ¨: +' + (changes.deltaYIncrease * 100).toFixed(2) + '%)';
            document.getElementById('resultExpenseRateChangeUp').textContent = 
                (expenseRateUp * 100).toFixed(2) + '% (å˜åŠ¨: ' + (changes.deltaYDecrease * 100).toFixed(2) + '%)';
            
            // åˆ©æ¶¦ç‡å˜åŠ¨
            const currentProfitRate = 1 - expenseRate;
            const profitRateDown = 1 - expenseRateDown;
            const profitRateUp = 1 - expenseRateUp;
            document.getElementById('resultProfitRateChangeDown').textContent = 
                (profitRateDown * 100).toFixed(2) + '% (å˜åŠ¨: ' + (changes.deltaProfitDecrease * 100).toFixed(2) + '%)';
            document.getElementById('resultProfitRateChangeUp').textContent = 
                (profitRateUp * 100).toFixed(2) + '% (å˜åŠ¨: +' + (changes.deltaProfitIncrease * 100).toFixed(2) + '%)';
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('resultGroup').style.display = 'block';
        }

        function updateChartFromCalculator(roi2, expenseRate) {
            // æ›´æ–°å½“å‰å€¼
            currentX = Math.max(0.1, Math.min(5.0, roi2));
            currentY = expenseRate;
            
            // æ›´æ–°å›¾è¡¨
            updatePoint();
        }

        function resetCalculator() {
            document.getElementById('inputROI2').value = '';
            document.getElementById('inputExpenseRate').value = '';
            document.getElementById('resultGroup').style.display = 'none';
        }

        // æ”¯æŒå›è½¦é”®è®¡ç®—
        document.getElementById('inputROI2').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                calculateFromROI2();
            }
        });

        document.getElementById('inputExpenseRate').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                calculateFromExpenseRate();
            }
        });
    </script>
</body>
</html>
